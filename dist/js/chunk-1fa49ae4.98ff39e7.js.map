{"version":3,"sources":["webpack:///./src/modules/superAdmin/admin/services/admins.services.js","webpack:///./src/modules/superAdmin/admin/views/role.vue?791d","webpack:///./src/modules/superAdmin/admin/components/roleDetails.vue?afdf","webpack:///src/modules/superAdmin/admin/components/roleDetails.vue","webpack:///./src/modules/superAdmin/admin/components/roleDetails.vue?0145","webpack:///./src/modules/superAdmin/admin/components/roleDetails.vue","webpack:///src/modules/superAdmin/admin/views/role.vue","webpack:///./src/modules/superAdmin/admin/views/role.vue?3599","webpack:///./src/modules/superAdmin/admin/views/role.vue"],"names":["getAllPermissions","Api","get","getAllRoles","getRoleDetails","id","editRole","payload","post","saveRole","saveAdmin","getAdminInfo","editAdmin","render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","proxy","_l","permission","_s","name","typeOfModal","roleDetails","requestLoading","on","openCreateModal","columns","reloadTable","staticRenderFns","ref","handleSubmit","$event","preventDefault","model","value","role","callback","$$v","$set","expression","_e","props","type","data","permissions","allPermissions","methods","adminService","$emit","_method","watch","computed","mounted","created","component","components","label","class","actions","icon","color","text","actionName","actionParams","showAlert","actionHeader","titleHeader","textContent","url","roleId","viewPermissions","obj","adminsServices","$bvModal","show","core","finally","showRoleInfo","$root","$on","beforeDestroy","$off"],"mappings":"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","file":"js/chunk-1fa49ae4.98ff39e7.js","sourcesContent":["import Api from '@/axios'\r\n\r\nexport default {\r\n  getAllPermissions () {\r\n    return Api().get('permissions')\r\n  },\r\n  getAllRoles () {\r\n    return Api().get('roles')\r\n  },\r\n  getRoleDetails (id) {\r\n    return Api().get(`roles/${id}`)\r\n  },\r\n  editRole (id, payload) {\r\n    return Api().post(`roles/${id}`, payload)\r\n  },\r\n  saveRole (payload) {\r\n    return Api().post('roles', payload)\r\n  },\r\n  saveAdmin (payload) {\r\n    return Api().post('admins', payload)\r\n  },\r\n  getAdminInfo (id) {\r\n    return Api().get(`admins/${id}`)\r\n  },\r\n  editAdmin (id, payload) {\r\n    return Api().post(`admins/${id}`, payload)\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('main-modal',{attrs:{\"id\":\"permissions\",\"size\":\"md\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"font-weight-bold\"},[_c('span',{staticClass:\"text-success-light\"},[_vm._v(\"view: \")]),_vm._v(\"Permission\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('b-list-group',{staticClass:\"m-0 p-0\"},_vm._l((_vm.permissions),function(permission,key){return _c('b-list-group-item',{key:key,staticClass:\"text-primary border-0 font-size-18\"},[_vm._v(\" \"+_vm._s(key+1)+\"- \"+_vm._s(permission.name))])}),1)]},proxy:true}])}),_c('main-modal',{attrs:{\"id\":\"roleDetails\",\"size\":\"lg\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [(_vm.typeOfModal == 'add')?_c('h4',{staticClass:\"font-weight-bold\"},[_c('span',{staticClass:\"text-warning\"},[_vm._v(\"Add: \")]),_vm._v(\" Role\")]):_c('h4',{staticClass:\"font-weight-bold\"},[_c('span',{staticClass:\"text-info\"},[_vm._v(\"Edit: \")]),_vm._v(\" Role\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('roleDetails',{attrs:{\"roleDetails\":_vm.roleDetails,\"type-of-modal\":_vm.typeOfModal,\"requestLoading\":_vm.requestLoading},on:{\"saveRole\":_vm.saveRole,\"editRole\":_vm.editRole}})]},proxy:true}])}),_c('b-row',[_c('b-col',{staticClass:\"mb-2 d-flex justify-content-between align-items-center\",attrs:{\"lg\":\"12\"}},[_c('h3',[_vm._v(\"Roles\")]),_c('div',[_c('router-link',{attrs:{\"to\":{name: 'admin'}}},[_c('b-button',{staticClass:\"add_button text-white\",attrs:{\"variant\":\"warning\"}},[_c('i',{staticClass:\"las la-arrow-left mr-3\"}),_vm._v(\" Go To Admin\")])],1),_c('b-button',{staticClass:\"ml-3 add_button text-white\",attrs:{\"variant\":\"warning\"},on:{\"click\":_vm.openCreateModal}},[_vm._v(\"Create Role\"),_c('i',{staticClass:\"las la-plus ml-3\"})])],1)]),_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('main-table',{staticClass:\"mb-0 table-borderless\",attrs:{\"fields\":_vm.columns,\"list_url\":'roles',\"reloadData\":_vm.reloadTable}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.saveRole)}}},[_c('b-row',[_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"12\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: Admin\",\"validate\":'required',\"name\":\"name\",\"label\":'Role Name'},model:{value:(_vm.role.name),callback:function ($$v) {_vm.$set(_vm.role, \"name\", $$v)},expression:\"role.name\"}})],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"12\"}},[_c('h5',[_vm._v(\" Choose Permission\")])]),_vm._l((_vm.allPermissions),function(permission,key){return _c('b-col',{key:key,staticClass:\"mb-3\",attrs:{\"md\":\"2\"}},[_c('b-form-checkbox',{staticClass:\"custom-checkbox-color-check\",attrs:{\"value\":permission.id,\"color\":\"warning\"},model:{value:(_vm.role.permissions),callback:function ($$v) {_vm.$set(_vm.role, \"permissions\", $$v)},expression:\"role.permissions\"}},[_c('span',{staticClass:\"font-size-12 text-primary\"},[_vm._v(\" \"+_vm._s(permission.name)+\" \")])])],1)})],2),(_vm.typeOfModal != 'view')?_c('b-row',[_c('b-col',{staticClass:\"mt-4\",attrs:{\"md\":\"12\"}},[(_vm.typeOfModal == 'add')?_c('div',{staticClass:\"d-flex justify-content-center\"},[(!_vm.requestLoading)?_c('b-button',{staticClass:\"button-orange-modal\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"las la-plus\"})]):_c('b-button',{staticClass:\"button-orange-modal\"},[_c('spinner-loading')],1)],1):_vm._e(),(_vm.typeOfModal == 'edit')?_c('div',{staticClass:\"d-flex justify-content-center\"},[(!_vm.requestLoading)?_c('b-button',{staticClass:\"button-blue-modal\",attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"las la-pen\"})]):_c('b-button',{staticClass:\"button-blue-modal\"},[_c('spinner-loading')],1)],1):_vm._e()])],1):_vm._e()],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\r\n      <b-form @submit.prevent=\"handleSubmit(saveRole)\">\r\n        <b-row>\r\n          <b-col md=\"12\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"role.name\"\r\n                placeholder=\"Ex: Admin\"\r\n                :validate=\"'required'\"\r\n                name=\"name\"\r\n                :label=\"'Role Name'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"12\" class=\"mb-3\" >\r\n            <h5> Choose Permission</h5>\r\n          </b-col>\r\n          <b-col md=\"2\" class=\"mb-3\" v-for=\"(permission, key) in allPermissions\" :key=\"key\">\r\n            <b-form-checkbox :value=\"permission.id\" v-model=\"role.permissions\" class=\"custom-checkbox-color-check\"\r\n                             color=\"warning\">\r\n              <span class=\"font-size-12 text-primary\"> {{ permission.name }} </span>\r\n            </b-form-checkbox>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row v-if=\"typeOfModal != 'view'\">\r\n          <b-col md=\"12\" class=\"mt-4\">\r\n            <div class=\"d-flex justify-content-center\" v-if=\"typeOfModal == 'add'\">\r\n              <b-button class=\"button-orange-modal\" type=\"submit\" v-if=\"!requestLoading\">\r\n                <i class=\"las la-plus\"></i>\r\n              </b-button>\r\n              <b-button class=\"button-orange-modal\" v-else>\r\n                <spinner-loading ></spinner-loading>\r\n              </b-button>\r\n            </div>\r\n            <div class=\"d-flex justify-content-center\" v-if=\"typeOfModal == 'edit'\">\r\n              <b-button class=\"button-blue-modal\" type=\"submit\" v-if=\"!requestLoading\">\r\n                <i class=\"las la-pen\"></i>\r\n              </b-button>\r\n              <b-button class=\"button-blue-modal\" v-else>\r\n                <spinner-loading ></spinner-loading>\r\n              </b-button>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n      </b-form>\r\n    </ValidationObserver>\r\n  </div>\r\n</template>\r\n<script>\r\nimport adminService from '../services/admins.services'\r\n/* import { core } from '@/config/pluginInit' */\r\nexport default {\r\n  props: {\r\n    typeOfModal: {\r\n      type: String\r\n    },\r\n    requestLoading: {\r\n      type: Boolean\r\n    },\r\n    roleDetails: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      role: {\r\n        name: '',\r\n        permissions: []\r\n      },\r\n      allPermissions: []\r\n    }\r\n  },\r\n  methods: {\r\n    getAllPermissions () {\r\n      adminService.getAllPermissions().then(res => {\r\n        this.allPermissions = res.data.data\r\n      })\r\n    },\r\n    saveRole () {\r\n      if (this.roleDetails) {\r\n        this.$emit('editRole', { ...this.role, _method: 'PATCH' })\r\n      } else {\r\n        this.$emit('saveRole', this.role)\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  computed: {\r\n  },\r\n  mounted () {\r\n    if (this.roleDetails) {\r\n      this.role.name = this.roleDetails?.name\r\n      this.role.permissions = this.roleDetails?.permissions.map(data => data.id)\r\n    }\r\n  },\r\n  created () {\r\n    this.getAllPermissions()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roleDetails.vue?vue&type=template&id=05e628e3&\"\nimport script from \"./roleDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./roleDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container fluid>\r\n    <main-modal id=\"permissions\" size=\"md\">\r\n      <template v-slot:header>\r\n        <h4 class=\"font-weight-bold\"><span class=\"text-success-light\" >view: </span>Permission</h4>\r\n      </template>\r\n      <template v-slot:body>\r\n        <b-list-group class=\"m-0 p-0\">\r\n          <b-list-group-item v-for=\"(permission, key) in permissions\" :key=\"key\"\r\n                             class=\"text-primary border-0 font-size-18\">\r\n            {{key+1}}- {{permission.name}}</b-list-group-item>\r\n        </b-list-group>\r\n      </template>\r\n    </main-modal>\r\n    <main-modal id=\"roleDetails\" size=\"lg\">\r\n      <template v-slot:header>\r\n        <h4 class=\"font-weight-bold\" v-if=\"typeOfModal == 'add'\"><span class=\"text-warning\" >Add: </span> Role</h4>\r\n        <h4 class=\"font-weight-bold\" v-else><span class=\"text-info\" >Edit: </span> Role</h4>\r\n      </template>\r\n      <template v-slot:body>\r\n        <roleDetails\r\n            :roleDetails=\"roleDetails\"\r\n            :type-of-modal=\"typeOfModal\"\r\n            :requestLoading=\"requestLoading\"\r\n            @saveRole=\"saveRole\"\r\n            @editRole=\"editRole\"\r\n        />\r\n      </template>\r\n    </main-modal>\r\n    <b-row>\r\n      <b-col lg=\"12\"\r\n             class=\"mb-2 d-flex justify-content-between align-items-center\">\r\n        <h3>Roles</h3>\r\n        <div>\r\n          <router-link :to=\"{name: 'admin'}\">\r\n            <b-button variant=\"warning\" class=\"add_button text-white\">\r\n              <i class=\"las la-arrow-left mr-3\"></i> Go To Admin</b-button>\r\n          </router-link>\r\n          <b-button variant=\"warning\" class=\"ml-3 add_button text-white\" @click=\"openCreateModal\">Create\r\n            Role<i class=\"las la-plus ml-3\"></i></b-button>\r\n        </div>\r\n      </b-col>\r\n      <b-col lg=\"12\">\r\n        <main-table\r\n            :fields=\"columns\"\r\n            class=\"mb-0 table-borderless\"\r\n            :list_url=\"'roles'\"\r\n            :reloadData=\"reloadTable\"\r\n        >\r\n        </main-table>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n<script>\r\nimport { core } from '@/config/pluginInit'\r\nimport adminsServices from '../services/admins.services'\r\nimport roleDetails from '../components/roleDetails'\r\nexport default {\r\n  components: { roleDetails },\r\n  data () {\r\n    return {\r\n      columns: [\r\n        { label: 'Name', key: 'name', class: 'text-left' },\r\n        { label: 'Type', key: 'type', class: 'text-left' },\r\n        {\r\n          label: 'Actions',\r\n          key: 'actions',\r\n          class: 'text-left',\r\n          type: 'actions',\r\n          actions: [{\r\n            icon: 'las la-eye',\r\n            color: 'success',\r\n            text: 'View',\r\n            actionName: 'viewPermissions',\r\n            actionParams: ['id']\r\n          },\r\n          {\r\n            icon: 'las la-pen',\r\n            color: 'info',\r\n            text: 'Edit',\r\n            actionName: 'showRoleInfo',\r\n            actionParams: ['id', 'name']\r\n          },\r\n          {\r\n            icon: 'las la-trash-alt',\r\n            color: 'danger',\r\n            text: 'Delete',\r\n            showAlert: true,\r\n            actionHeader: 'Delete',\r\n            titleHeader: 'Role',\r\n            textContent: 'name',\r\n            url: 'roles'\r\n          }\r\n          ]\r\n        }\r\n      ],\r\n      reloadTable: false,\r\n      requestLoading: false,\r\n      permissions: [],\r\n      typeOfModal: 'add',\r\n      roleId: '',\r\n      roleDetails: {}\r\n    }\r\n  },\r\n  methods: {\r\n    viewPermissions (obj) {\r\n      adminsServices.getRoleDetails(obj.id).then(res => {\r\n        this.permissions = res.data.data\r\n        this.$bvModal.show('permissions')\r\n      })\r\n    },\r\n    openCreateModal () {\r\n      this.roleDetails = {}\r\n      this.typeOfModal = 'add'\r\n      this.$bvModal.show('roleDetails')\r\n    },\r\n    saveRole (data) {\r\n      this.requestLoading = true\r\n      this.reloadTable = false\r\n      adminsServices.saveRole(data).then(res => {\r\n        this.reloadTable = true\r\n        core.showSnackbar('success', res.data.data)\r\n        this.$bvModal.hide('roleDetails')\r\n      }).finally(() => {\r\n        this.requestLoading = false\r\n      })\r\n    },\r\n    editRole (data) {\r\n      this.requestLoading = true\r\n      this.reloadTable = false\r\n      adminsServices.editRole(this.roleId, data).then(res => {\r\n        this.reloadTable = true\r\n        core.showSnackbar('success', res.data.data)\r\n        this.$bvModal.hide('roleDetails')\r\n      }).finally(() => {\r\n        this.requestLoading = false\r\n      })\r\n    },\r\n    showRoleInfo (data) {\r\n      this.roleId = data.id\r\n      adminsServices.getRoleDetails(data.id).then(res => {\r\n        const newObj = { ...data, permissions: res.data.data }\r\n        this.roleDetails = newObj\r\n        this.typeOfModal = 'edit'\r\n        this.$bvModal.show('roleDetails')\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    core.index()\r\n  },\r\n  created () {\r\n    this.$root.$on('viewPermissions', this.viewPermissions)\r\n    this.$root.$on('showRoleInfo', this.showRoleInfo)\r\n  },\r\n  beforeDestroy () {\r\n    this.$root.$off('viewPermissions')\r\n    this.$root.$off('showRoleInfo')\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role.vue?vue&type=template&id=d7967dde&\"\nimport script from \"./role.vue?vue&type=script&lang=js&\"\nexport * from \"./role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}