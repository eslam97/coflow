{"version":3,"sources":["webpack:///./src/modules/superAdmin/leads/views/list.vue?256e","webpack:///./src/modules/superAdmin/leads/services/leads.services.js","webpack:///./src/modules/superAdmin/leads/components/leadDetails.vue?a808","webpack:///src/modules/superAdmin/leads/components/leadDetails.vue","webpack:///./src/modules/superAdmin/leads/components/leadDetails.vue?fe50","webpack:///./src/modules/superAdmin/leads/components/leadDetails.vue","webpack:///src/modules/superAdmin/leads/views/list.vue","webpack:///./src/modules/superAdmin/leads/views/list.vue?87bc","webpack:///./src/modules/superAdmin/leads/views/list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","proxy","leadDetails","requestLoading","on","acceptOrReject","columns","reloadTable","sortChanged","staticRenderFns","showLeadData","leadId","Api","get","changeStatusLead","payload","post","ref","handleSubmit","$event","preventDefault","makeBusinessRequest","model","value","businessRequest","callback","$$v","$set","expression","contact","_l","item","deleteLink","_e","selectSocial","i","keyLink","_s","errors","class","length","allLinks","links","addNewLink","selectedStatus","props","type","default","required","data","email","name","job","phone","link","methods","push","splice","$emit","_method","status","watch","computed","filterLinks","newLinksArr","forEach","includes","e","socialIndex","findIndex","console","created","component","components","label","sortable","actions","icon","color","text","actionName","actionParams","selectedLead","viewLead","obj","id","leadsServices","core","finally","mounted","beforeDestroy","$root","$off","$on"],"mappings":"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","file":"js/chunk-2d0e9756.635db852.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('main-modal',{attrs:{\"id\":\"leadDetalilsModal\",\"size\":\"lg\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"font-weight-bold\"},[_vm._v(\"Business Request\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('lead-details',{attrs:{\"leadDetails\":_vm.leadDetails,\"requestLoading\":_vm.requestLoading},on:{\"makeBusinessRequest\":_vm.acceptOrReject}})]},proxy:true}])}),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"lg\":\"12\"}},[_c('h3',[_vm._v(\"leads\")])]),_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('main-table',{staticClass:\"mb-0 table-borderless\",attrs:{\"fields\":_vm.columns,\"list_url\":'leads',\"reloadData\":_vm.reloadTable},on:{\"sortChanged\":_vm.sortChanged}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/axios'\r\n\r\nexport default {\r\n  showLeadData (leadId) {\r\n    return Api().get(`leads/${leadId}`)\r\n  },\r\n  changeStatusLead (leadId, payload) {\r\n    return Api().post(`leads/${leadId}`, payload)\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.makeBusinessRequest)}}},[_c('b-row',[_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"4\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: name@coflow.com\",\"validate\":'required|email',\"name\":\"Facility Email Address\",\"label\":'Facility Email Address'},model:{value:(_vm.businessRequest.email),callback:function ($$v) {_vm.$set(_vm.businessRequest, \"email\", $$v)},expression:\"businessRequest.email\"}})],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"8\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: The Yoga Studio\",\"validate\":'required',\"name\":\"Facility Name\",\"label\":'Facility Name'},model:{value:(_vm.businessRequest.name),callback:function ($$v) {_vm.$set(_vm.businessRequest, \"name\", $$v)},expression:\"businessRequest.name\"}})],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"4\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: Owner\",\"validate\":'required',\"name\":\"Contact’s Role or Job\",\"label\":'Contact’s Role or Job'},model:{value:(_vm.businessRequest.contact.job),callback:function ($$v) {_vm.$set(_vm.businessRequest.contact, \"job\", $$v)},expression:\"businessRequest.contact.job\"}})],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"4\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: Eslam Ashraf\",\"validate\":'required',\"name\":\"Contact’s Full Name\",\"label\":'Contact’s Full Name'},model:{value:(_vm.businessRequest.contact.name),callback:function ($$v) {_vm.$set(_vm.businessRequest.contact, \"name\", $$v)},expression:\"businessRequest.contact.name\"}})],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"md\":\"4\"}},[_c('input-form',{attrs:{\"placeholder\":\"Ex: 0123456789\",\"validate\":'required|numeric',\"name\":\"Contact’s Phone Number\",\"label\":'Contact’s Phone Number'},model:{value:(_vm.businessRequest.contact.phone),callback:function ($$v) {_vm.$set(_vm.businessRequest.contact, \"phone\", $$v)},expression:\"businessRequest.contact.phone\"}})],1),_vm._l((_vm.businessRequest.links),function(item,key){return _c('b-col',{key:key,staticClass:\"mb-3\",attrs:{\"md\":\"6\"}},[_c('b-form-group',{staticClass:\"position-relative\",attrs:{\"label\":'URL Links',\"label-for\":'URL Links'}},[(key != 0)?_c('span',{staticClass:\"text-danger deleteLabelButton cursor-pointer\",on:{\"click\":function($event){return _vm.deleteLink(key)}}},[_vm._v(\"Delete \")]):_vm._e(),_c('b-input-group',{scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('b-dropdown',{staticClass:\"selectWithInput\",attrs:{\"text\":item.selectSocial ? item.selectSocial : 'Choose'}},_vm._l((_vm.filterLinks),function(i,keyLink){return _c('b-dropdown-item',{key:keyLink,on:{\"click\":function($event){item.selectSocial = i}}},[_vm._v(\" \"+_vm._s(i)+\" \")])}),1)]},proxy:true}],null,true)},[_c('validation-provider',{staticClass:\"flex-grow-1\",attrs:{\"name\":(\"URL Link \" + (key + 1)),\"rules\":'required'},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{class:[{ 'is-invalid': errors.length > 0 }],attrs:{\"id\":\"mm\",\"placeholder\":'Ex: https://www.google.com',\"disabled\":!item.selectSocial},model:{value:(item.link),callback:function ($$v) {_vm.$set(item, \"link\", $$v)},expression:\"item.link\"}})]}}],null,true)})],1)],1)],1)}),(_vm.allLinks.length !== _vm.businessRequest.links.length)?_c('b-col',{attrs:{\"md\":\"12\"}},[_c('span',{staticClass:\"text-warning cursor-pointer\",on:{\"click\":_vm.addNewLink}},[_vm._v(\"+ Add another Link\")])]):_vm._e()],2),_c('b-row',[_c('b-col',{staticClass:\"mt-4\",attrs:{\"md\":\"12\"}},[(_vm.requestLoading)?_c('p',{staticClass:\"text-center\"},[_c('spinner-loading',{attrs:{\"text\":\"Loading\"}})],1):_c('div',{staticClass:\"d-flex justify-content-center gap_10\"},[_c('b-button',{staticClass:\"container_button_blue ml-2\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.selectedStatus = 'accepted'}}},[_c('span',[_vm._v(\"ACCEPT\")])]),_c('b-button',{staticClass:\"gradient-orange-button box_orange_shadow\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.selectedStatus = 'rejected'}}},[_c('span',[_vm._v(\"REJECT\")])])],1)])],1)],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\r\n      <b-form @submit.prevent=\"handleSubmit(makeBusinessRequest)\">\r\n        <b-row>\r\n          <b-col md=\"4\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"businessRequest.email\"\r\n                placeholder=\"Ex: name@coflow.com\"\r\n                :validate=\"'required|email'\"\r\n                name=\"Facility Email Address\"\r\n                :label=\"'Facility Email Address'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"8\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"businessRequest.name\"\r\n                placeholder=\"Ex: The Yoga Studio\"\r\n                :validate=\"'required'\"\r\n                name=\"Facility Name\"\r\n                :label=\"'Facility Name'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"4\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"businessRequest.contact.job\"\r\n                placeholder=\"Ex: Owner\"\r\n                :validate=\"'required'\"\r\n                name=\"Contact’s Role or Job\"\r\n                :label=\"'Contact’s Role or Job'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"4\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"businessRequest.contact.name\"\r\n                placeholder=\"Ex: Eslam Ashraf\"\r\n                :validate=\"'required'\"\r\n                name=\"Contact’s Full Name\"\r\n                :label=\"'Contact’s Full Name'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"4\" class=\"mb-3\">\r\n            <input-form\r\n                v-model=\"businessRequest.contact.phone\"\r\n                placeholder=\"Ex: 0123456789\"\r\n                :validate=\"'required|numeric'\"\r\n                name=\"Contact’s Phone Number\"\r\n                :label=\"'Contact’s Phone Number'\"\r\n            />\r\n          </b-col>\r\n          <b-col md=\"6\" class=\"mb-3\" v-for=\"(item, key) in businessRequest.links\" :key=\"key\">\r\n            <b-form-group\r\n                :label=\"'URL Links'\"\r\n                :label-for=\"'URL Links'\"\r\n                class=\"position-relative\"\r\n            >\r\n              <span class=\"text-danger deleteLabelButton cursor-pointer\" v-if=\"key != 0\" @click=\"deleteLink(key)\">Delete\r\n              </span>\r\n              <b-input-group>\r\n                <validation-provider\r\n                    #default=\"{ errors }\"\r\n                    :name=\"`URL Link ${key + 1}`\"\r\n                    :rules=\"'required'\"\r\n                    class=\"flex-grow-1\"\r\n                >\r\n                  <b-form-input\r\n                      id=\"mm\"\r\n                      v-model=\"item.link\"\r\n                      :class=\"[{ 'is-invalid': errors.length > 0 }]\"\r\n                      :placeholder=\"'Ex: https://www.google.com'\"\r\n                      :disabled=\"!item.selectSocial\"\r\n                  />\r\n                </validation-provider>\r\n                <template #prepend>\r\n                  <b-dropdown\r\n                      :text=\"item.selectSocial ? item.selectSocial : 'Choose'\"\r\n                      class=\"selectWithInput\"\r\n                  >\r\n                    <b-dropdown-item v-for=\"(i, keyLink) in filterLinks\" :key=\"keyLink\" @click=\"item.selectSocial = i\">\r\n                      {{i}}\r\n                    </b-dropdown-item>\r\n                  </b-dropdown>\r\n                </template>\r\n              </b-input-group>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col md=\"12\" v-if=\"allLinks.length !== businessRequest.links.length\"\r\n          ><span class=\"text-warning cursor-pointer\" @click=\"addNewLink\">+ Add another Link</span></b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col md=\"12\" class=\"mt-4\">\r\n            <p v-if=\"requestLoading\" class=\"text-center\">\r\n              <spinner-loading  text=\"Loading\" />\r\n            </p>\r\n            <div class=\"d-flex justify-content-center gap_10\" v-else>\r\n              <b-button class=\"container_button_blue ml-2\" @click=\"selectedStatus = 'accepted'\" type=\"submit\">\r\n                <span>ACCEPT</span>\r\n              </b-button>\r\n              <b-button class=\"gradient-orange-button box_orange_shadow\" @click=\"selectedStatus = 'rejected'\"\r\n                        type=\"submit\">\r\n                <span>REJECT</span>\r\n              </b-button>\r\n            </div>\r\n          </b-col>\r\n        </b-row>\r\n      </b-form>\r\n    </ValidationObserver>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    requestLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    leadDetails: {\r\n      type: Object,\r\n      required: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      allLinks: [\r\n        'Website',\r\n        'Facebook',\r\n        'Twitter',\r\n        'Instagram'\r\n      ],\r\n      businessRequest: {\r\n        email: '',\r\n        name: '',\r\n        contact: {\r\n          name: '',\r\n          job: '',\r\n          phone: ''\r\n        },\r\n        links: [\r\n          {\r\n            selectSocial: '',\r\n            link: ''\r\n          }\r\n        ]\r\n      },\r\n      selectedStatus: ''\r\n    }\r\n  },\r\n  methods: {\r\n    addNewLink () {\r\n      this.businessRequest.links.push({\r\n        selectSocial: '',\r\n        link: ''\r\n      })\r\n    },\r\n    deleteLink (key) {\r\n      this.businessRequest.links.splice(key, 1)\r\n    },\r\n    makeBusinessRequest () {\r\n      this.$emit('makeBusinessRequest', { ...this.businessRequest, _method: 'put', status: this.selectedStatus })\r\n    }\r\n  },\r\n  watch: {\r\n  },\r\n  computed: {\r\n    filterLinks () {\r\n      var newLinksArr = [...this.allLinks]\r\n      this.businessRequest.links.forEach(e => {\r\n        if (newLinksArr.includes(e.selectSocial)) {\r\n          var socialIndex = newLinksArr.findIndex(social => social === e.selectSocial)\r\n          console.log(socialIndex)\r\n          newLinksArr.splice(socialIndex, 1)\r\n        }\r\n      })\r\n      return newLinksArr\r\n    }\r\n  },\r\n  created () {\r\n    if (this.leadDetails) {\r\n      this.businessRequest = {\r\n        email: this.leadDetails.email,\r\n        name: this.leadDetails.name,\r\n        contact: this.leadDetails.contacts[0],\r\n        links: this.leadDetails.links\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leadDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leadDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./leadDetails.vue?vue&type=template&id=7c92a15c&\"\nimport script from \"./leadDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./leadDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-container fluid>\r\n    <main-modal id=\"leadDetalilsModal\" size=\"lg\">\r\n      <template v-slot:header>\r\n        <h4 class=\"font-weight-bold\">Business Request</h4>\r\n      </template>\r\n      <template v-slot:body>\r\n        <lead-details :leadDetails=\"leadDetails\" :requestLoading=\"requestLoading\"\r\n                      @makeBusinessRequest=\"acceptOrReject\"/>\r\n      </template>\r\n    </main-modal>\r\n    <b-row>\r\n      <b-col lg=\"12\" class=\"mb-2\">\r\n        <h3>leads</h3>\r\n      </b-col>\r\n      <b-col lg=\"12\">\r\n            <main-table\r\n                :fields=\"columns\"\r\n                class=\"mb-0 table-borderless\"\r\n                @sortChanged=\"sortChanged\"\r\n                :list_url=\"'leads'\"\r\n                :reloadData=\"reloadTable\"\r\n            >\r\n            </main-table>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n<script>\r\nimport { core } from '@/config/pluginInit'\r\nimport leadsServices from '../services/leads.services'\r\nimport leadDetails from '../components/leadDetails'\r\nexport default {\r\n  components: { leadDetails },\r\n  data () {\r\n    return {\r\n      columns: [\r\n        { label: 'Name', key: 'name', class: 'text-left' },\r\n        { label: 'Date', key: 'date', class: 'text-left', sortable: true },\r\n        { label: 'Status', key: 'status', class: 'text-left', type: 'status' },\r\n        {\r\n          label: 'Actions',\r\n          key: 'actions',\r\n          class: 'text-left',\r\n          type: 'actions',\r\n          actions: [{\r\n            icon: 'las la-eye',\r\n            color: 'success-light',\r\n            text: 'View',\r\n            actionName: 'viewLead',\r\n            actionParams: ['id']\r\n          }\r\n          /* {\r\n            icon: 'las la-pen',\r\n            color: 'cobalt-blue',\r\n            text: 'Edit'\r\n          },\r\n          {\r\n            icon: 'las la-trash-alt',\r\n            color: 'danger',\r\n            text: 'Delete',\r\n            showAlert: true,\r\n            actionHeader: 'Delete',\r\n            titleHeader: 'Lead',\r\n            textContnet: 'name'\r\n          } */\r\n          ]\r\n        }\r\n      ],\r\n      leadDetails: {},\r\n      requestLoading: false,\r\n      selectedLead: '',\r\n      reloadTable: false\r\n    }\r\n  },\r\n  methods: {\r\n    sortChanged (key) {\r\n      console.log(key)\r\n    },\r\n    viewLead (obj) {\r\n      this.selectedLead = obj.id\r\n      /* core.startLoader() */\r\n      leadsServices.showLeadData(obj.id).then(res => {\r\n        this.leadDetails = res.data.data\r\n        this.$bvModal.show('leadDetalilsModal')\r\n        /* core.endLoader() */\r\n      })\r\n    },\r\n    acceptOrReject (data) {\r\n      this.requestLoading = true\r\n      this.reloadTable = false\r\n      leadsServices.changeStatusLead(this.selectedLead, data).then(res => {\r\n        core.showSnackbar('success', res.data.message)\r\n        this.reloadTable = true\r\n        this.$bvModal.hide('leadDetalilsModal')\r\n      }).finally(() => {\r\n        this.requestLoading = false\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    core.index()\r\n  },\r\n  beforeDestroy () {\r\n    this.$root.$off('viewLead', this.viewLead)\r\n  },\r\n  created () {\r\n    this.$root.$on('viewLead', this.viewLead)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=16571b69&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}